<sonub-header></sonub-header>
<section class="content">
  <table width="100%" cellpadding="0" cellspacing="0">
    <tr valign="top">
      <td *ngIf=" app.size == 'big' "><sonub-left></sonub-left></td>
      <td width="100%">
          <section class="center">
            
            <div class="post-list-menu">
              <span *ngIf="post_name" class="post-name">{{ post_name }}</span>
              <button (click)="onClickPostCreate()">Post Write</button>
            </div>
            <!-- create a  post -->
            <edit-component *ngIf = " showPostCreateFrom "
                            [mode]    = " 'create-post' "
                            [active]  = " true "
                            [post_id] = " post_id "
                            [posts]   = " posts "
                            (error)   = " editComponentOnError( $event ) "
                            (cancel)  = " editComponentOnCancel() "
                            (success) = " editComponentOnSuccess() "
            ></edit-component>
            <hr>
            <div *ngIf=" view " class="view">
              
              <view-component
                [post]="view" [root]="view"
                [show]="true"
                [mode] = " 'create-comment' "
              ></view-component>

              <div *ngIf=" view?.comments " class="comments">
                <div class="comment" *ngFor=" let comment of view.comments; trackBy: comment?.idx ">
                  <view-component
                    [post]="comment" [root]="view"
                    [show] = "true"
                    [mode] = " 'create-comment' "
                  ></view-component>
                </div>
              </div><!--/.comments-->
            </div><!--/.view-->


            <div *ngIf=" posts " class="pages posts">
              <div class="post" *ngFor=" let post of posts; let i = index; trackBy: post?.idx ">


                <!-- post_top_ad -->
                <div *ngIf=" post_top_ad && ! (i % limit) " class="post_top_ad">
                  <div *ngFor=" let top_ad of post_top_ad " class="top_ad">
                    <div class="image" *ngIf="top_ad.src">
                      <a [href]=" 'http://www.philgo.com/' + top_ad.url " target="_blank">
                        <img [src]="top_ad.src">
                      </a>
                    </div>
                  </div>
                </div><!-- post_top_ad -->

                <!-- post_top_preminum -->
                <div *ngIf=" post_top_premium_ad && ! (i % limit) " class="post_top_premium_ad">
                  <div *ngFor=" let premium_ad of post_top_premium_ad " class="top_premium_ad">
                    <div class="image" >
                      <a [href]=" 'http://www.philgo.com/' + premium_ad.url " target="_blank">
                        <img [src]="premium_ad.src" *ngIf="premium_ad.src">
                      </a>
                    </div>
                    <div class="text">
                      <a [href]=" 'http://www.philgo.com/' + premium_ad.url " target="_blank">
                        <div class="subject">{{ premium_ad.subject }}</div>
                        <div class="sub_subject">{{ premium_ad.sub_subject }}</div>
                      </a>
                    </div>
                  </div>
                </div><!-- post_top_preminum -->

                <!-- ads -->
                <div *ngIf=" ads && ! (i % limit) " class="ads">
                  <div *ngFor=" let ad of ads " class="ad">
                    <div class="image">
                      <a [href]=" 'http://www.philgo.com/' + ad.url " target="_blank">
                        <img [src]="ad.src_thumbnail" *ngIf="ad.src_thumbnail">
                        {{ ad.subject }}
                      </a>
                    </div>
                  </div>
                </div><!-- ads -->

                <view-component
                  [post]="post" [root]="post"
                  [show]="true"
                  [mode] = " 'create-comment' "
                ></view-component>
                <div *ngIf=" post?.comments " class="comments">
                  <div class="comment" *ngFor=" let comment of post.comments; trackBy: comment?.idx ">
                    <view-component
                      [post]="comment" [root]="post"
                      [show] = "true"
                      [mode] = " 'create-comment' "
                    ></view-component>
                  </div>
                </div><!--/.comments-->
              </div><!--/.post-->

            </div><!--/.posts-->
            <div [class.active]=" ! noMorePosts " class="in-page-loading"><i class="fa fa-spinner fa-spin"></i> Loading ...</div>
            <div [class.active]=" noMorePosts " class="no-more-posts">No more posts</div>
        </section><!--/.center-->
      </td>
      <td *ngIf=" app.size == 'big' "><sonub-right></sonub-right></td>
    </tr>
  </table>

</section><!--/section.content-->